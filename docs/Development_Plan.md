# CheDuk 개발 계획 및 로드맵

이 문서는 CheDuk 프로젝트의 현재 개발 목표와 향후 계획을 추적하는 단일 소스입니다. MVP 완성을 위한 구체적인 작업 목록과 코드 품질 개선을 위한 리팩토링 계획을 포함합니다.

---

## 1. MVP 목표 (MVP Goal)

> **"로컬 2인 플레이가 가능한 완성도 있는 MVP(최소 기능 제품) 구현"**

현재 프로젝트의 핵심 목표는 두 명의 플레이어가 하나의 기기에서 CheDuk 게임의 전체 흐름(시작, 플레이, 종료)을 경험할 수 있는 버전을 완성하는 것입니다. 이를 위해 핵심 게임 로직 구현, 사용자 인터페이스 개발, 그리고 두 요소의 통합이 필요합니다.

---

## 2. MVP 완수를 위한 핵심 기능 목록 (Core Tasks for MVP)

MVP 완성을 위해 반드시 구현해야 할 **기능 중심의 체크리스트**입니다. (`issues.md`의 내용을 이전)

### 2.1. 룰 엔진 마무리 (`core-logic`)

- [x] **경호원(守):** "수반 인접 보호" 규칙 (공격 대신 피격)을 `performAction` 함수에 적용.
- [ ] **포획/충돌 우선순위:** 한 번의 이동으로 여러 이벤트(예: 상대 기물 포획과 동시에 내 수반이 위험에 처하는 경우)가 발생할 때의 판정 우선순위를 명확히 정의하고 로직에 반영.

### 2.2. 게임 흐름 & UI (`cheduk-frontend`)

- [ ] **선택/이동 하이라이트 보완:** 현재 구현된 하이라이트 기능을 규칙에 맞게(예: 특사 점프 경로) 더 정교하게 다듬기.
- [ ] **대사 배치 UI:** 게임 시작 시 '대사(使)'를 배치할 수 있는 칸(거리 1~3)에 숫자를 표시하고, 선택 UI를 구현.
- [ ] **시각적 피드백:** 경호원의 '수반 보호' 능력이 발동되었을 때 이를 명확히 알려주는 시각 효과 또는 로그 추가.
- [ ] **간단한 튜토리얼:** 게임의 핵심 규칙을 안내하는 간단한 툴팁 또는 안내 문구 추가.

### 2.3. MVP 포장

- [ ] **로컬 플레이 가이드:** `README.md`에 사용자가 1분 안에 로컬 환경에서 게임을 설치하고 실행할 수 있는 간단한 가이드를 작성.
- [ ] **데모 GIF:** 실제 게임 플레이 모습을 담은 GIF 1~2장을 `README.md`에 추가.

---

## 3. 코드 품질 개선 및 리팩토링 계획 (Code Quality & Refactoring Plan)

이미 구현된 코드의 건강성을 높이고 장기적인 유지보수성을 확보하기 위한 **기술 중심의 체크리스트**입니다. (`Refactoring_Plan.md`의 내용을 이전)

### 3.1. 프론트엔드 아키텍처 개선 (`cheduk-frontend`)

- [ ] **`Board.tsx`: 유틸리티/데이터 로직 분리:**
    - `getPathCenter` 함수를 `src/utils/` 디렉토리의 별도 파일로 분리.
    - `coordinateToCellMap` 생성 로직을 `src/data/` 디렉토리의 별도 파일로 분리.
- [ ] **`Board.tsx`: `HexTile` 컴포넌트 분리 (심화):**
    - 보드 렌더링 루프 내부를 `HexTile` 컴포넌트로 분리하여 `Board.tsx`의 복잡도 낮추기.
- [ ] **`gameStore.ts`: 로직 분리 및 보완:**
    - `handleTileClick` 함수의 로직을 역할에 따라 작은 헬퍼 함수로 분리.
    - `resetGame` 함수가 `gameState` 외 다른 UI 관련 상태(`selectedTile` 등)도 함께 초기화하도록 수정.

### 3.2. 핵심 로직 개선 (`packages/core-logic`)

- [ ] **`getValidActions` 함수 분리:** 함수 역할을 명확히 하기 위해 `getPieceActions`와 `getGlobalActions`로 분리하는 것을 검토.
- [ ] **`getTerritories` 로직 리팩토링:** 현재의 `while` 루프 기반 로직을 기하학적 정의에 기반한 선언적 함수로 개선하여 가독성과 안정성 높이기.
- [ ] **초기 기물 배치 방식 개선:** `createInitialGameState`의 `setPiece` 호출 목록을 선언적인 데이터 구조(예: 객체 배열)로 변경.

### 3.3. 장기적인 품질 향상

- [ ] **Storybook 도입:** UI 컴포넌트를 분리된 환경에서 시각적으로 테스트하고 문서화.
- [ ] **테스트 커버리지 확대:** 순수 함수 및 핵심 상호작용에 대한 단위/통합 테스트 추가.
- [ ] **빌드 시 데이터 전처리:** `coordinateToCellMap` 생성을 런타임이 아닌 빌드 타임에 수행하도록 스크립트 구성.

---

## 4. 장기적인 목표 (Long-term Goals)

MVP 완성 이후에 도전할 프로젝트의 장기 비전입니다. (`MASTER_PLAN.md`의 내용을 기반으로 함)

- [ ] **온라인 멀티플레이어:** `remix-app`과 `Socket.IO`를 활용하여 실시간 온라인 대전 기능 구현.
- [ ] **AI 대전 기능:** Minimax, Alpha-Beta Pruning 등의 알고리즘을 사용한 AI 상대 구현.
- [ ] **게임 분석 및 튜토리얼:** 게임 복기(Replay) 및 분석 기능, 신규 유저를 위한 인터랙티브 튜토리얼 추가.
- [ ] **핵심 로직 WASM 전환:** 성능 최적화 및 기술 학습을 목표로, TypeScript로 구현된 `core-logic`을 Rust/WebAssembly로 재작성.
- [ ] **모바일 앱 제작:** 웹 서비스 안정화 후 React Native 등을 사용한 모바일 앱 버전 검토.
