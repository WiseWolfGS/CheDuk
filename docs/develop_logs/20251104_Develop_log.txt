# 2025년 11월 4일 개발 로그

## 1. TypeScript 컴파일 및 모듈 해석 오류 해결

`packages/core-logic` 패키지에서 발생한 `Property 'values' does not exist on type 'ObjectConstructor'` 오류를 시작으로, 모노레포 환경의 TypeScript 설정 전반을 점검하고 수정하여 컴파일 오류를 해결했습니다.

### 1.1. `Object.values` 오류 해결
- **원인**: `core-logic`의 `tsconfig.json`에 `lib` 옵션이 명시되지 않아, ES2017에 추가된 `Object.values`를 인식하지 못했습니다.
- **해결**: `packages/core-logic/tsconfig.json`의 `compilerOptions`에 `target: "es2022"` 및 `lib: ["es2022", "DOM", "DOM.Iterable"]`을 추가하여 최신 JavaScript 기능 및 브라우저 환경을 인식하도록 수정했습니다.

### 1.2. 모듈 해석 오류 해결 (`vitest`, `@cheduk/geometry-hex`)
- **원인**: `tsc`가 `vitest` 및 워크스페이스 패키지(`@cheduk/geometry-hex`)를 찾지 못하는 문제가 발생했습니다.
- **해결**:
    1.  `packages/core-logic/tsconfig.json`의 `compilerOptions`에 `moduleResolution: "bundler"`를 추가하여 최신 번들러의 모듈 해석 방식을 따르도록 했습니다.
    2.  `baseUrl` 및 `paths`를 설정하여 `@cheduk/geometry-hex` 경로에 대한 별칭을 지정했습니다.
    3.  `types: ["vitest/globals"]`를 추가하여 `vitest`의 전역 타입을 인식하도록 했습니다.

### 1.3. 전역 타입 누락 오류 해결 (`AbortSignal`, `Disposable` 등)
- **원인**: `vitest` 및 의존성 라이브러리들이 사용하는 `AbortSignal`, `Disposable` 등의 전역 타입이 `lib`에 포함되지 않아 발생했습니다.
- **해결**: `packages/core-logic/tsconfig.json`의 `lib` 배열에 `DOM`, `DOM.Iterable`, `ESNext.Disposable`을 추가하여 필요한 전역 타입들을 포함시켰습니다.

### 1.4. 프로젝트 참조(Project References) 설정
- **원인**: `composite: true`로 설정된 프로젝트(`core-logic`)가 다른 워크스페이스 패키지(`geometry-hex`)를 참조할 때, 해당 패키지가 빌드되지 않아 타입 정보를 가져올 수 없는 문제가 발생했습니다.
- **해결**:
    1.  `packages/core-logic/tsconfig.json`에 `references` 배열을 추가하여 `geometry-hex`를 명시적으로 참조하도록 했습니다.
    2.  `packages/geometry-hex/tsconfig.json`에서 `noEmit: true`를 제거하고 `declaration: true`를 추가하여, 타입 선언 파일(`.d.ts`)이 생성되도록 수정했습니다.
    3.  `core-logic` 및 `geometry-hex` 패키지에 `typescript`를 `devDependency`로 설치했습니다.
    4.  `geometry-hex` 패키지를 먼저 빌드(`pnpm exec tsc --build`)하여 선언 파일을 생성한 후, `core-logic`을 타입 검사하여 문제를 최종 해결했습니다.

## 2. 요약 및 현재 상태

- 모노레포 환경에서 발생했던 복잡한 TypeScript 설정 문제들이 모두 해결되었습니다.
- 이제 `pnpm exec tsc --noEmit` 명령어가 모든 패키지에서 성공적으로 실행되며, 안정적으로 타입을 검사할 수 있는 환경이 구축되었습니다.
- 이로써 기물 이동 로직 추가 구현 및 단위 테스트 작성 등 다음 개발 작업을 원활하게 진행할 수 있는 기반이 마련되었습니다.
